Recursos compartidos no compartibles: impresora A, impresora B y pantalla

Condiciones de sincronización: No hay

Exclusiones Mutuas: impresora y pantalla

Buzones compartidos: pedirImpresora, liberarImpresora, pedirPantalla, liberarPantalla
Buzones HiloCliente: buzonRespuesta

Algoritmo:
HiloCliente:
	Generar un trabajo
	// Solicito impresora
	Enviar i (identificador hilo) al buzón pedirImpresora
	// Espero que me devuelvan la impresora a usar y el tiempo asignado
	Recibir tiempo asignado e impresora en buzonRespuesta
	Uso impresora el tiempo que me han asignado
	// Libero impresora
	Enviar nulo al buzón liberarImpresora
	// Pido pantalla
	Enviar i (identificador hilo) al buzón pedirPantalla
	// Espero a que me digan que está libre
	Recibir nulo en buzón buzonRespuesta
	// Libero la pantalla
	Enviar nulo al buzón liberarPantalla

HiloControlador:
	repetir
		Espera selectiva
			// Recibo petición de impresora
			Recibir en pedirImpresora i (identificador hilo)
			Calcula el tiempo de impresión y la impresora
			Si está libre la impresora asignada 
				// Se devuelve la impresora y el tiempo asignados
				Enviar al buzón buzonesRespuesta[i] la impresora y el tiempo
			si no 
				se añade a la cola de esa impresora i (identificador hilo)
	
			// Recibo liberación de impresora
			Recibir nulo en el buzón liberarImpresora
			Marco la impresora como libre
			Si hay alguien esperando en la cola de esa impresora 
				// Se le saca de la cola y se le manda su impresora y su tiempo (para que después lo imprima)
				Sacar de la cola al hilo y enviar al buzón buzonRespuesta[id del hilo] su impresora y tiempo
			si no marco la impresora como libre
	
			La pantalla está libre =>
			// Recibo petición de pantalla
			Recibir en el buzón pedirPantalla i (id hilo)
			// Devuelvo que está libre
			Enviar al buzón buzonRespuesta[i] nulo
	
			// Recibo liberación de pantalla
			Recibir en el buzón liberarPantalla nulo
			Marco la pantalla como libre
	siempre